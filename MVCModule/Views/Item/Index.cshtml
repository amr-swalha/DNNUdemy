@inherits DotNetNuke.Web.Mvc.Framework.DnnWebViewPage<IEnumerable<Udemy.DNNCourse.MVCModule.Models.Item>>

@using System.Text.RegularExpressions
@using DotNetNuke.Web.Mvc.Helpers


<div id="Items-@Dnn.ModuleContext.ModuleId">
    <h3>Hello @Dnn.User.DisplayName</h3>
    <a href="@Url.Action("Add")">Add new item</a>

    @if (Model.Count() == 0)
    {
        <p>@Dnn.LocalizeString("NoItems")</p>
    }
    else
    {
        <ul class="tm_tl">
            @foreach (var item in Model)
            {
                <li class="tm_t">
                    <h3>@item.ItemName</h3>
                    <div class="tm_td">@item.ItemDescription</div>
                    @{

                        <div>
                            <a href="@Url.Action("Edit", "Item", new {ctl = "Edit", itemId = item.ItemId})">@Dnn.LocalizeString("EditItem")</a>
                            @if (Dnn.User.IsInRole("Administrators"))
                            {
                                <a href="@Url.Action("Delete", "Item", new {itemId = item.ItemId})">@Dnn.LocalizeString("DeleteItem")</a>
                            }
                        </div>
                    }
                </li>
                        }
        </ul>
                        }
</div>
